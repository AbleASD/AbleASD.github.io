<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>IntelliJ IDEA &mdash; Justice's blog</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/css/components/collection.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/css/globals/common.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/css/posts/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mzlogin/rouge-themes@master/dist/github.css"><link rel="canonical" href="https://ableasd.github.io/wiki/intellij-idea/"><link rel="alternate" type="application/atom+xml" title="Justice's blog" href="https://ableasd.github.io/feed.xml"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/favicon.ico"><meta property="og:title" content="IntelliJ IDEA"><meta name="keywords" content="IDEA, Java"><meta name="og:keywords" content="IDEA, Java"><meta name="description" content="快捷键基本与 Android Studio 一致，这里重点记录解决遇到过的问题。"><meta name="og:description" content="快捷键基本与 Android Studio 一致，这里重点记录解决遇到过的问题。"><meta property="og:url" content="https://ableasd.github.io/wiki/intellij-idea/"><meta property="og:site_name" content="Justice's blog"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2023-08-09"> <script src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/js/jquery-ui.js"></script> <script src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/js/main.js"></script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="https://ableasd.github.io/" title="Justice's blog"><span class="octicon octicon-mark-github"></span> Justice's blog</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="https://ableasd.github.io/" class=" site-header-nav-item" target="" title="首页">首页</a> <a href="https://ableasd.github.io/categories/" class=" site-header-nav-item" target="" title="分类">分类</a> <a href="https://ableasd.github.io/wiki/" class=" site-header-nav-item" target="" title="维基">维基</a> <a href="https://ableasd.github.io/links/" class=" site-header-nav-item" target="" title="链接">链接</a> <a href="https://ableasd.github.io/about/" class=" site-header-nav-item" target="" title="关于">关于</a></nav></div></header><section class="collection-head small geopattern" data-pattern-id="IntelliJ IDEA"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">IntelliJ IDEA</h1></div></div><div class="column one-fourth mobile-hidden"></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><p>快捷键基本与 <a href="./android-studio/">Android Studio</a> 一致，这里重点记录解决遇到过的问题。</p><h2 id="qa">Q&amp;A</h2><h3 id="如何让代码自动换行显示">如何让代码自动换行显示？</h3><p>Preferences -&gt; Editor -&gt; General，勾选 Soft-wrap these files，后面的文件名匹配改为 <code class="language-plaintext highlighter-rouge">*</code>，表示所有文件都启用自动换行。</p><h3 id="解决导入-eclipse-maven-工程后无法读取-xml-文件的问题">解决导入 Eclipse Maven 工程后无法读取 .xml 文件的问题</h3><p>IDEA 与 Eclipse 配置文件目录的方式不同，可以将文件夹标记为 Sources、Resources 和 tests 等，而 src/main/java 默认被标记为 Sources，src/main/resources 才默认被标记为 Resources，编译时自动复制。</p><p>这样放在 src/main/java 目录下的文件与子文件夹均为 Sources，只将编译生成的 .class 文件复制到编译目录，在 Eclipse Maven 工程里放在 src/main/java 文件夹里的 xml、props 和 properties 文件就不会被拷贝到编译文件夹，导致执行时找不到这些文件，报类似下面这样的错误：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [spring-demo.xml]; nested exception is java.io.FileNotFoundException: class path resource [spring-demo.xml] cannot be opened because it does not exist
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:343)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:216)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:251)
	at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)
	at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:540)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:454)
	at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)
	at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)
	at org.mazhuang.demo.protocol.db.DemoContext.init(DemoContext.java:22)
	at org.mazhuang.demo.protocol.DemoServer.start(DemoServer.java:40)
	at org.mazhuang.demo.DemoSrv.main(DemoSrv.java:17)
Caused by: java.io.FileNotFoundException: class path resource [spring-demo.xml] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:158)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:329)
	... 15 more
</code></pre></div></div><p><strong>解决方案：</strong></p><p>可以通过在 pom.xml 文件里添加 resources 配置来指定将哪些文件作为 resources 包含：</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;resources&gt;</span>
        <span class="nt">&lt;resource&gt;</span>
            <span class="nt">&lt;directory&gt;</span>${basedir}/src/main/java<span class="nt">&lt;/directory&gt;</span>
            <span class="nt">&lt;includes&gt;</span>
                <span class="nt">&lt;include&gt;</span>**/*.props<span class="nt">&lt;/include&gt;</span>
                <span class="nt">&lt;include&gt;</span>**/*.xml<span class="nt">&lt;/include&gt;</span>
            <span class="nt">&lt;/includes&gt;</span>
        <span class="nt">&lt;/resource&gt;</span>
    <span class="nt">&lt;/resources&gt;</span>
<span class="nt">&lt;/build&gt;</span>
</code></pre></div></div><h3 id="如何导出-jar-包">如何导出 jar 包</h3><p>File -&gt; Project Structure -&gt; Artifacts -&gt; Click green plus sign -&gt; Jav -&gt; From modules with dependencies</p><p>Build -&gt; Build Artifacts</p><h3 id="去掉-utf-8-文件的-bom">去掉 UTF-8 文件的 BOM</h3><p>UTF-8 文件带 BOM 里会编译报错：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error:(1, 1) error: illegalcharacter: '\ufeff'
</code></pre></div></div><p>解决方法：</p><p>右键项目名称 -&gt; Remove BOM</p><h3 id="freemarker-模板实时生效">FreeMarker 模板实时生效</h3><ol><li><p>在配置文件里关闭 FreeMarker 缓存，设置模板更新延迟时间为 0：</p><div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="na">spring</span><span class="pi">:</span>
     <span class="na">freemarker</span><span class="pi">:</span>
         <span class="na">cache</span><span class="pi">:</span> <span class="no">false</span>
         <span class="na">settings</span><span class="pi">:</span>
             <span class="na">template_update_delay</span><span class="pi">:</span> <span class="m">0</span>
</code></pre></div></div></li><li><p>修改 IDEA 设置，开启 Build project automatically</p><p><img src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/images/wiki/intellij-idea-auto-build.jpeg" alt="" /></p></li><li><p>双击 shift，输入 registry，然后回车选中图中项：</p><p><img src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/images/wiki/intellij-idea-registry.png" alt="" /></p></li><li><p>找到并勾选 compiler.automake.allow.when.app.running：</p><p><img src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/images/wiki/intellij-idea-auto-make.jpeg" alt="" /></p></li><li><p>重新启动项目。</p><p>修改模板后可能会有几秒延时，刷新两遍就好了。</p></li></ol><h3 id="编辑器面包屑配置">编辑器面包屑配置</h3><ol><li><p>面包屑的显示/隐藏，两种方法：</p><ul><li>菜单 View - Active Editor - Show Breadcrumbs</li><li>右键行号区域 - Breadcrumbs - Top / Bottom / Don’t Show</li></ul></li><li><p>面包屑的位置：</p><p>右键行号区域 - Breadcrumbs - Top / Bottom</p></li></ol><h3 id="提示-invalid-classes-root">提示 Invalid classes root</h3><p>几种可能的解决步骤，可以逐一尝试：</p><ol><li>右键工程 - Run Maven - install -U，右键工程 - Run Maven - Reimport</li><li>File - Project Structure - Libraries - 全选删除，Reimport</li><li>重启 IDEA</li><li>关闭 IDEA，将 .idea 目录删除，重新打开项目</li></ol><h3 id="自动生成-serialversionuid">自动生成 serialVersionUID</h3><p>当一个类实现 Serializable 接口后，在 IDEA 里默认不会提示生成 serialVersionUID。</p><p>做如下配置之后可以实现提示：</p><ol><li>Preferences - Editor - Inspections</li><li>搜索 Serializable class without ‘serialVersionUID’</li><li>勾选该项并确定</li></ol><p><img src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/images/wiki/idea-serializable-settings.png" alt="" /></p><p>提示效果：</p><p><img src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/images/wiki/idea-serializable-inspection.png" alt="" /></p><h3 id="配置打开新建工程的默认-jdk-版本">配置打开/新建工程的默认 JDK 版本</h3><p>打开/新建工程默认会使用比较新的 JDK，比如 JDK 11 或者 14。而在我的实际场景里一般还是需要用 JDK 8，这样每次都要手动设置很不方便。</p><p>设置默认 JDK 的方法：</p><p>File &gt; New Projects Settings &gt; Structure For New Projects</p><h3 id="忽略文件">忽略文件</h3><p>Java 项目里有一些文件是不需要关注的，但它们默认会展示在 Project 视图，甚至会出现在你的搜索结果里，形成干扰。比如 dependency-reduced-pom.xml 和 target 文件夹等。</p><p>如何忽略掉它们呢？</p><p>Preferences &gt; Editor &gt; File Types &gt; Ignore Files and Folders，将文件/文件夹名称加进去，英文分号分隔。</p><h2 id="参考">参考</h2><ul><li><a href="http://www.cnblogs.com/zqr99/p/7642712.html">解决IntelliJ IDEA无法读取配置*.properties文件的问题</a></li><li><a href="https://stackoverflow.com/questions/1082580/how-to-build-jars-from-intellij-properly">How to build jars from IntelliJ properly?</a></li></ul><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>文档信息</h3><ul><li>本文作者：<a href="https://ableasd.github.io" target="_blank">正义的伙伴</a></li><li>本文链接：<a href="https://ableasd.github.io/wiki/intellij-idea/" target="_blank">https://ableasd.github.io/wiki/intellij-idea/</a></li><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li></ul></div></article><div class="share"></div><div class="comment"><div id="gitalk-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/vendor/gitalk/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script> var gitalk = new Gitalk({ id: '/wiki/intellij-idea/', clientID: '605d926b1bff7c574c59', clientSecret: '612f4ad65db5b1c7e18e120abbb3d22824cbf8c4', repo: 'blog-comment', owner: 'AbleASD', admin: ['AbleASD'], labels: ['gitment'], perPage: 50, }); gitalk.render('gitalk-container'); </script></div></div><div class="column one-fourth"><h3>Search</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://ableasd.github.io/assets/search_data.json?v=1691590023', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/js/jquery.toc.js"></script></div></div></section><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2015 <span title="正义的伙伴">正义的伙伴</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/AbleASD/AbleASD.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="https://ableasd.github.io/" title="首页" target="">首页</a></li><li> <a href="https://ableasd.github.io/categories/" title="分类" target="">分类</a></li><li> <a href="https://ableasd.github.io/wiki/" title="维基" target="">维基</a></li><li> <a href="https://ableasd.github.io/links/" title="链接" target="">链接</a></li><li> <a href="https://ableasd.github.io/about/" title="关于" target="">关于</a></li><li><a href="https://ableasd.github.io/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a></div><script src="https://cdn.jsdelivr.net/gh/AbleASD/AbleASD.github.io@master/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script></body></html>
